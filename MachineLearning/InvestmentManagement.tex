\documentclass{article}
\usepackage{graphicx}
\usepackage{physics}
\usepackage{amsfonts}
\usepackage{amsmath}

\title{Investment Management Course Notes}
\author{Joe Hollander}
\date{Summer 2024} 

\begin{document}
\maketitle

\section[1.1]{Fundamentals of risk and returns}

Compounding returns with different return rates:
\[
(1 + r_1)(1 + r_2) - 1.
\]
Compounding returns with the same return rate:
\[
((1 + r)^t - 1). 
\]
To compare different time period standard deviations multiply (or divide)
by the square root of the number of time periods.
The sharpe ratio:
\[
\frac{R_p-R_f}{\sigma_p}.
\]

Pandas standard deviation method uses the sample
standard deviation and not the population standard
deviation. Similar to the sharpe ratio, the calmar
ratior is a risk adjusted return where risk is measured
by drawdown. Use index method to\_period to convert from
datetime to period. Use series method cummax to find the
highest value for each timestep. Drawdown is then: 
\[
\frac{Value - Previous Peak}{Previous Peak}.
\]

\section[1.2]{Beyond The Gaussian Case}

Skew and kurtosis are the third and fourth moments
of a distribution respectively. A distribution with
a greater than three kurtosis is considered fat tailed.

The Jarque Bera is a test that determines whether 
or not a sample distribution fits a normal distribution
based on its skew and kurtosis. If the test is close
to zero it signals that the distribution is close 
to normal. The test:
\[
JB = \frac{n}{6}\left(S^2 + \frac{1}{4}(K-3)^2\right).
\]

Semi-deviation is the volatility of below-average
or below-zero returns:
\[
\sigma_{semi} = 
\sqrt{\frac{1}{N}\sum_{R_t\le\bar{R}}(R_t-\bar{R})^2}.
\]
Value at risk (VaR) represents the maximum
"expected" loss over a time period. A 99\%
one month VaR gives the maximum loss excluding
the 1\% of worst cases. The VaR is also typically
expressed as a positive number. The conditional
value at risk (CVaR) is the expected loss beyond
VaR:
\[
CVar = -E(R \, | \, R \le -VaR).
\]

Setting ddof as zero for pandas standard deviation
calculates the population standard deviation.

There are four methods to calculate VaR.
The historical methodology calculates the VaR 
from the historical outcomes. The parametric gaussian
methodology assumes a gaussian distribution. In
this methodology the VaR is simple to calculate:
\[
VaR_\alpha = -(\mu + z_\alpha \sigma),
\]
where $z_\alpha$ is the $\alpha$-quantile of the
normal distribution with mean zero and standard
deviation one. The gaussian is almost inaccurate.
A parametric non-gaussian distribution doesn't
assume gaussian. The Cornish-Fisher VaR is a
semi-parametric approach. The expansion states:
\[
\tilde{z_\alpha} = z_\alpha + 
\frac{1}{6}(z_\alpha^2 - 1)S + 
\frac{1}{24}(z_\alpha^3 - 3z_\alpha)(K-3) -
\frac{1}{36}(2z_\alpha^3 - 5z_\alpha)S^2,
\] 
where $\tilde{z_\alpha}$ is the updated quantile.

Use numpy's percentile for historical VaR and
scipy.stats' ppf function for gaussian, parametric,
and Cornish-Fisher VaR.

\section[1.3]{Optimization and the Efficient Frontier}

The return of a portfolio is equal to the 
weighted average of the return of the components.
The volatility of a portfolio, however, depends
on the correlation:
\[
\sigma^2(w_a, w_b) =
\sigma^2_A w^2_A + \sigma^2_B w^2_B + 
2 w_A w_B \sigma_A \sigma_B \rho_{A,B}.
\]
The efficient frontier is the boundary of regions
created from the assets with a given correlation.
Each point on this line represents the best return
for each volatility. 

\section[1.4]{Implementing Markowitz}

The capital market line is the tangent line
from the risk free rate to the efficient frontier.
The portfolios from this line have the highest 
sharpe ratio. This maximum sharpe ratio portfolio (MSR)
also has no exposure to unrewarded risks. 

As a result of estimation errors and misleading
expected returns, some use the global minimum variance
(GMV), which is the nose of the efficient frontier. 
Even small estimation errors result in large portfolio
changes. 

\end{document}